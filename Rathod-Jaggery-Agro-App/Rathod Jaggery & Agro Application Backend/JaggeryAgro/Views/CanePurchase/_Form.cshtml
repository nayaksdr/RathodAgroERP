@model JaggeryAgro.Core.Entities.CanePurchase

<div class="row g-3">

    <!-- Purchase Date -->
    <div class="col-md-4">
        <label asp-for="PurchaseDate" class="form-label fw-bold">खरेदी दिनांक</label>
        <input asp-for="PurchaseDate" type="date" class="form-control" />
        <span asp-validation-for="PurchaseDate" class="text-danger"></span>
    </div>

    <!-- Farmer Dropdown -->
    <div class="col-md-4">
        <label asp-for="FarmerId" class="form-label fw-bold">शेतकरी निवडा</label>
        <select asp-for="FarmerId" asp-items="ViewBag.Farmers" class="form-select">
            <option value="">-- शेतकरी निवडा --</option>
        </select>
        <span asp-validation-for="FarmerId" class="text-danger"></span>
    </div>

    <!-- Payment Status -->
    <div class="col-md-4">
        <label asp-for="PaymentStatus" class="form-label fw-bold">पेमेंट स्थिती</label>
        <select asp-for="PaymentStatus" class="form-select">
            <option value="Pending">प्रलंबित</option>
            <option value="Paid">देण्यात आले</option>
        </select>
        <span asp-validation-for="PaymentStatus" class="text-danger"></span>
    </div>

    <!-- Quantity (Ton) -->
    <div class="col-md-4">
        <label asp-for="QuantityTon" class="form-label fw-bold">प्रमाण (टन)</label>
        <input asp-for="QuantityTon" type="number" step="0.01" id="QuantityTon" class="form-control" />
        <span asp-validation-for="QuantityTon" class="text-danger"></span>
    </div>

    <!-- Rate per Ton -->
    <div class="col-md-4">
        <label asp-for="RatePerTon" class="form-label fw-bold">दर प्रति टन (₹)</label>
        <input asp-for="RatePerTon" type="number" step="0.01" id="RatePerTon" class="form-control" />
        <span asp-validation-for="RatePerTon" class="text-danger"></span>
    </div>

    <!-- Total Amount -->
    <div class="col-md-4">
        <label class="form-label fw-bold">एकूण रक्कम (₹)</label>
        <input type="text" id="TotalAmount" class="form-control" readonly />
    </div>

    <!-- Notes / Remarks -->
    <div class="col-12">
        <label asp-for="Notes" class="form-label fw-bold">टीप</label>
        <textarea asp-for="Notes" class="form-control" rows="3"></textarea>
        <span asp-validation-for="Notes" class="text-danger"></span>
    </div>
</div>

@section Scripts {
    <script>
        function calcTotal() {
            var quantity = parseFloat(document.getElementById("QuantityTon").value) || 0;
            var rate = parseFloat(document.getElementById("RatePerTon").value) || 0;
            document.getElementById("TotalAmount").value = (quantity * rate).toFixed(2);
        }

        document.getElementById("QuantityTon").addEventListener("input", calcTotal);
        document.getElementById("RatePerTon").addEventListener("input", calcTotal);
        document.addEventListener("DOMContentLoaded", calcTotal);
    </script>
}
