@using Microsoft.AspNetCore.Mvc.Localization
@model IEnumerable<JaggeryAgro.Core.Entities.Dealer>
@inject IViewLocalizer Localizer

@{
    ViewBag.Title = Localizer["Title"];
}

<div class="container mt-4">

    <!-- Header -->
    <div class="text-center mb-4">
        <h2 class="py-3 mb-0 bg-warning text-dark rounded shadow-sm">
            <i class="bi bi-people-fill me-2"></i> @Localizer["Title"]
        </h2>
    </div>

    <!-- Search -->
    <form method="get" class="d-flex mb-3">
        <input type="text" name="search" class="form-control me-2" placeholder="@Localizer["Placeholder_Search"]" value="@ViewBag.Search" />
        <button type="submit" class="btn btn-primary">
            <i class="bi bi-search me-1"></i> @Localizer["Button_Search"]
        </button>
    </form>

    <!-- Add Dealer Button -->
    <div class="mb-3">
        <a asp-action="Create" class="btn btn-success btn-lg w-100 shadow-sm rounded-pill">
            <i class="bi bi-plus-circle me-2"></i> @Localizer["Button_AddDealer"]
        </a>
    </div>

    <!-- Dealer Table -->
    <div class="table-responsive shadow-sm rounded">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-dark text-center">
                <tr>
                    <th>@Localizer["Header_DealerName"]</th>
                    <th>@Localizer["Header_ContactNumber"]</th>
                    <th>@Localizer["Header_Address"]</th>
                    <th>@Localizer["Header_Actions"]</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null && Model.Any())
                {
                    foreach (var item in Model)
                    {
                        <tr class="text-center">
                            <td>@item.Name</td>
                            <td>@item.ContactNumber</td>
                            <td>@item.Address</td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-warning rounded-pill" title="@Localizer["Tooltip_Edit"]">
                                        <i class="bi bi-pencil"></i>
                                    </a>
                                    <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger rounded-pill" title="@Localizer["Tooltip_Delete"]">
                                        <i class="bi bi-trash"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4" class="text-center text-muted py-3">@Localizer["Message_NoRecords"]</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    @if (ViewBag.TotalPages > 1)
    {
        <nav class="mt-3">
            <ul class="pagination justify-content-center">
                @for (int i = 1; i <= ViewBag.TotalPages; i++)
                {
                    <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                        <a class="page-link" asp-action="Index" asp-route-search="@ViewBag.Search" asp-route-page="@i">@i</a>
                    </li>
                }
            </ul>
        </nav>
    }
</div>
